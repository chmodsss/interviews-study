# C08-S12: Retail Online Shop

Retailer C8 replaced their COTS online shop (SAP Hybris) with S12, a custom eCommerce platform developed in-house as Microservices. This omnichannel online shop consisted of ~45 services organized in five domains with several subdomains or "verticals". Lead architect P15 rated the maturity of the evolvability assurance activities for S12 as between level 2 and 3. Teams would be very autonomous with their process, but each team would have a very explicit and structured approach, even if approaches were not extremely governance-heavy. Most teams relied on tool support with CI/CD integration with strong test automation, but no hard quality gates. Principles and rules for communication between services existed as well. To avoid coupling between services, data replication and conscious duplication was used in several cases and messaging was only allowed between services of a single team. For inter-vertical or inter-domain service communication, RESTful HTTP and JSON had to be used to guarantee interoperability. In line with evolutionary design, frequent refactoring of service granularity was practiced (splitting and merging), if the size of a service was perceived as problematic. Moreover, boy scouting during feature implementations as well as pair-programming were encouraged to increase quality and share knowledge within the team. For horizontal knowledge exchange, topic-based "guilds" existed with members from all existing domains. With respect to tool support, a wide variey was used including SonarQube, FindBugs, Codecov, Cobertura, PMD, Checkstyle, various forms of IDE linting (e.g. ESLint and TSLint), and also tools for commit linting. This was similar for metrics. In addition to SonarQube findings and metrics, most teams defined sensible FindBugs and Checkstyle rules for themselves and aspired to bring the number of violations down to zero. Usually, test coverage was reported as well, but P15 saw its value as controversial. No service-oriented metrics were used, but P15 perceived them as as interesting, because the underlying principles would be important and were manually followed during service design. To ensure sustainable interface evolution without breaking consumers, the *Consumer-Driven Contracts* pattern was applied. In general, P15 rated the evolvability of S12 as positive (+1). If one team refactored the granularity of their services to something more sustainable, a rating of +2 would even be possible. Replaceability of services was much improved and services would also live for very different periods of time, e.g. some only for a few weeks to experiment with a new concept. Testability would also be very high. As long as people followed the general principles and guidelines, the high degree of technological heterogeneity was not seen as problematic for evolvability by P17. However, macroarchitectural assessment would be more difficult and with very fine-grained service cuts, most problems would be in the outer architecture. In such domains, it would also take longer to add new functionality and changes could cause ripple effects. Overall, Microservices would have a positive influence on the assurance process. This was mostly due to a cultural change that brought more quality awareness and clear service responsibilities. People would also be much more motivated to increase the quality of a small service with just a few findings. P15 rated the assurance effectiveness as positive (+1), but more actions could be taken once findings had been identified. Respecting costs and benefits during assurance would also be important. Currently, it would more important to preserve evolvability than to increase it. Assurance impact on productivity was seen as very positive in the long run (+2). In total, P15 wanted to spend a bit more effort for assurance (+1), especially for reflecting and evaluating current activities and defining an improved structured plan for the future. As the most important challenges, P15 named knowledge exchange and coordination between decentralized and autonomous teams as well as finding the right service granularity to avoid coupling and ripple effects on changes.