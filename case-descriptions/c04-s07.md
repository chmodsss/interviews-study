# C04-S07: Retail Online Shop

The second analyzed process of C4 was for S7, a newly developed online shop for a large retailer that replaced and extended an existing commercial off-the-shelf (COTS) product. So far, ~250 Microservices structured into domains and products had been created. Architect P8 rated the assurance maturity level as between 2 and 3, because while several parts were very systematic, teams also handled some activities more freely. Code review and tool support integrated into the CI/CD pipeline with quality gates were part of the process. Additionally, refactoring was used as an important technique to increase quality. This was an explicit part of sprint planning and each sprint at least included some refactorings. SonarQube was used as a central tool for quality analysis and included FindBugs, PMD, Checkstyle, and Cobertura. On top of that, IDE linting was used locally by each developer, e.g. TSLint. To ensure consistency, there were also custom tools that checked coding patterns and syntax (e.g. switch cases). Metrics for different technologies and languages had been consciously selected. One key metric was test coverage that was also used for quality gates. Moreover, cyclomatic complexity, clone coverage, as well as custom rules for violations of coding patterns and style were reported. Service-oriented metrics were not used, even though architects would think a lot about related properties during design time. While the used "API Gateway" pattern also decoupled clients and services, the primary motivation for it was increased security. Evolvability was one of the main drivers for the new system and its general perception was positive (+1). The small services were easy to analyze, modify, and reuse. P8 saw the best rating (+2) as "utopian", because an evolving software system would never be perfect in this regard. Code duplication would be common, because the analysis beyond service boundaries was seen as complex. Additionally, rapid evolution sometimes caused the documentation of the system to be outdated or missing. Microservices would also make a holistic static code analysis more difficult due to their distributed and heterogeneous nature. Overall, assurance effectiveness was still seen as positive (+1), even though it would be very different within the various teams. P8 also saw assurance impact on productivity as positive (+1) and as very important for long-term velocity, although this would sometimes be hard to explain to the customer. In retrospect, P8 wanted to slightly increase assurance efforts (+1) by incorporating more aspects of a system-centric quality view that crossed service boundaries. The most important challenge described by P8 was the difficulty to integrate a process with tools and quality gates into an agile and somewhat decentralized environment without patronizing or alienating developers. While some degree of rational governance would be necessary, the agile principle "individuals and interactions over processes and tools" would still be very important.