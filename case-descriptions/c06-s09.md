# C06-S09: Hotel Search Engine

Developer P10 and data engineer P11 both talked with us about the assurance process for C6's core product S9, an online search platform for hotels that had been completely rewritten and now consisted of six Java services. P10 rated the process maturity of his team between level 1 and 2. Some aspects of the 12-factor app guidelines were followed to increase maintainability and cloud readiness. The team also used a lot of code reviews to improve quality and to share knowledge and also kept Architectural Decision Records (ADRs) to document design rationales. They also frequently employed evolutionary refactoring to keep code and architecture clean, e.g. splitting a large service into smaller ones or merging existing services into a larger one. In general, activities were not were systematic and apart from IDE linting with Checkstyle not much tool support was used, even though a central SonarQube instance was planned. P10 saw pragmatism as important to avoid a hindrance in productivity for important features or bug fixes. Unreasonable quality gates could be harmful. P11, on the other hand, rated the process maturity of his team as level 3. There was CI/CD integration (Jenkins) with quality gates and SonarQube was used together with FindBugs and Checkstyle. It would even sometimes be difficult to get a passing merge request. Code reviews were mandatory and would find the most important issues while tool support would mostly report smaller findings. Code quality would seldom be an issue. The important problems would be related to data and architecture. Some guidelines like mandatory comments for new database fields were enforced. With respect to metrics, P10's team relied on defect resolution time and saw it as very important too keep it very low. Additionally, burndown was used as a productivity metric. Other metrics would not be so important and could also be misleading, especially test coverage. Service-oriented metrics were seen as interesting, but were not used so far. A lot of the principles behind coupling or cohesion metrics would be followed when designing new services or during refactoring. P11's team used the standard FindBugs and SonarQube metrics, but not much else. With respect to patterns, *Event-Driven Messaging* was used to achieve service statelessness and to decouple services further. Moreover, the *Request-Reaction* pattern was implemented via gRPC streaming to have a more sustainable interaction between consumers and producers. P10 generally perceived the evolvability of S9 as positive (+1). The newly developed services had a high focus on maintainability and were a great improvement over the old legacy code. Analyzability and testability were much improved. It would be much easier to write tests for a service and reusability was improved as well. The small services were easy to analyze, rewrite, or merge. P11, however, perceived evolvability and especially analyzability as negative (-1), mostly due to issues with the data model and distributed code repositories which would make it hard to find the right location for a feature and to perform root cause analysis. Assurance effectiveness was seen as slightly positive (+1) by P10, but with much room for improvement. P11 saw the overall effectiveness as negative (-1), especially when looking at the integrity and consistency of the data model. Similarly, assurance impact on productivity was seen as positive (+1) by P10 who favored pragmatism and as negative (-1) by P11. Despite boy scouting, a lot of efforts was invested to fix broken or inconsistent data models. Overall, P10 wanted to invest much more time for assurance (+2), especially for automated end-to-end tests and static code analysis with SonarQube. P11 did not want to invest more time (0), but would like to shift more effort into team coordination and architecture and data model related discussions. As important challenges, P10 described it as difficult to gather expertise for new Microservices and DevOps technologies which led to a lot of effort. Both P10 and P11 also remarked that - while the scope within the team was quite clear - a system- and company-wide vision was communicated poorly. A holistic view would be missing due to decentralization and autonomous teams. Coordination between teams could be better. P11 also named the integration of legacy PHP code as a challenge which required a lot of additional tooling for communication and integration. Furthermore, he saw the service cut as inefficient and politically motivated and the new smaller Microservices would not be more analyzable (too many top-level components).